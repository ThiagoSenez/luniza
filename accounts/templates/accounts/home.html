<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carta Vintage</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;1,400&family=Dancing+Script:wght@400;600&family=Great+Vibes:wght@400&family=Allura:wght@400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: 'Playfair Display', serif;
            min-height: 100vh;
            overflow: hidden;
        }

        .container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            box-sizing: border-box;
        }

        .envelope {
            position: relative;
            width: 300px;
            height: 190px;
            cursor: pointer;
            transition: transform 0.3s ease;
            z-index: 10;
        }

        .envelope:hover {
            transform: scale(1.02);
        }

        .envelope-body {
            width: 100%;
            height: 100%;
            background: linear-gradient(145deg, #f5deb3 0%, #deb887 100%);
            border-radius: 8px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            position: relative;
            overflow: visible;
        }

        .envelope-flap {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 95px;
            background: linear-gradient(145deg, #deb887 0%, #cd853f 100%);
            clip-path: polygon(0 0, 100% 0, 50% 100%);
            transform-origin: 50% 0%;
            transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 3;
        }

        .envelope.open .envelope-flap {
            transform: rotateX(-180deg);
        }

        .wax-seal {
            position: absolute;
            top: 47px;
            left: 50%;
            transform: translateX(-50%);
            width: 35px;
            height: 35px;
            background: radial-gradient(circle at 30% 30%, #dc2626, #991b1b);
            border-radius: 50%;
            z-index: 4;
            transition: all 0.8s ease;
            box-shadow: 0 3px 8px rgba(0,0,0,0.3);
        }

        .wax-seal::before {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            background: radial-gradient(circle, #dc2626, #991b1b);
            border-radius: 50%;
            z-index: -1;
            opacity: 0.6;
        }

        .wax-seal::after {
            content: 'T';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #fef2f2;
            font-weight: bold;
            font-size: 14px;
            text-shadow: 0 1px 2px rgba(0,0,0,0.5);
        }

        .envelope.open .wax-seal {
            transform: translateX(-50%) scale(0.8) rotate(15deg);
            opacity: 0.7;
        }

        .stamp {
            position: absolute;
            top: 15px;
            right: 20px;
            width: 40px;
            height: 30px;
            background: linear-gradient(145deg, #dc2626, #991b1b);
            border: 2px solid #fef2f2;
            z-index: 2;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            color: white;
            font-weight: bold;
        }

        .stamp::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: repeating-linear-gradient(
                0deg,
                transparent,
                transparent 2px,
                #991b1b 2px,
                #991b1b 4px
            );
        }

        .letter-paper {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) translateY(200px) scale(0.8);
            width: 280px;
            height: 400px;
            background: linear-gradient(145deg, #fefefe, #f8f8f8);
            border-radius: 4px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.25);
            padding: 35px 30px;
            transition: all 1.2s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 5;
            border: 1px solid #e5e5e5;
            opacity: 0;
            box-sizing: border-box;
        }

        /* Aumentado z-index da carta quando aberta para ficar acima da barra de progresso */
        .envelope.open .letter-paper {
            transform: translate(-50%, -50%) translateY(-60px) scale(1);
            opacity: 1;
            z-index: 100; /* Muito maior que a barra de progresso (z-index: 20) */
        }

        .letter-content {
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            color: #2d3748;
            line-height: 1.7;
        }

        .letter-header {
            text-align: center;
            margin-bottom: 25px;
        }

        .letter-date {
            font-size: 13px;
            color: #666;
            margin-bottom: 12px;
            font-style: italic;
        }

        .letter-greeting {
            font-size: 18px;
            font-weight: 600;
            color: #2d3748;
        }

        .letter-body {
            flex: 1;
            font-size: 15px;
            text-align: justify;
            overflow-y: auto;
            padding-right: 8px;
            margin-bottom: 15px;
        }

        .letter-body::-webkit-scrollbar {
            width: 4px;
        }

        .letter-body::-webkit-scrollbar-track {
            background: transparent;
        }

        .letter-body::-webkit-scrollbar-thumb {
            background: rgba(139, 92, 246, 0.3);
            border-radius: 2px;
        }

        .letter-body::-webkit-scrollbar-thumb:hover {
            background: rgba(139, 92, 246, 0.5);
        }

        .letter-body p {
            margin-bottom: 18px;
        }

        .signature {
            text-align: right;
            margin-top: 25px;
            font-family: 'Great Vibes', cursive;
            font-size: 24px;
            font-weight: 400;
            color: #4a5568;
            text-shadow: 0 1px 3px rgba(0,0,0,0.15);
            position: relative;
            line-height: 1.2;
            letter-spacing: 0.5px;
        }

        .signature::before {
            content: '';
            position: absolute;
            bottom: -12px;
            right: 0;
            width: 100px;
            height: 1px;
            background: linear-gradient(to right, transparent, #8b5cf6, transparent);
            opacity: 0.6;
        }

        .signature::after {
            content: '';
            position: absolute;
            bottom: -8px;
            right: 10px;
            width: 3px;
            height: 3px;
            background: #8b5cf6;
            border-radius: 50%;
            opacity: 0.7;
        }

        /* ESTILOS DA BARRA DE PROGRESSO */
        .progress-container {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 80%;
            max-width: 300px;
            z-index: 20; /* Mantido abaixo da carta quando aberta */
            background: rgba(255, 255, 255, 0.9);
            padding: 12px 15px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 14px;
            font-weight: 600;
            color: #6b21a8;
        }

        .progress-bar {
            width: 100%;
            height: 12px;
            background: #f3e8ff;
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #8b5cf6 0%, #7c3aed 100%);
            border-radius: 10px;
            width: 0%;
            transition: width 1.5s ease-in-out;
            position: relative;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.2) 25%, transparent 25%, 
                            transparent 50%, rgba(255, 255, 255, 0.2) 50%, 
                            rgba(255, 255, 255, 0.2) 75%, transparent 75%, transparent);
            background-size: 20px 20px;
            border-radius: 10px;
            animation: move 1s linear infinite;
        }

        @keyframes move {
            0% { background-position: 0 0; }
            100% { background-position: 20px 0; }
        }

        .exit-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #ff9cee 0%, #ff5ebb 100%);
            color: white;
            font-size: 20px;
            box-shadow: 0 4px 12px rgba(255, 94, 187, 0.4);
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 20; /* Mantido abaixo da carta quando aberta */
        }

        .exit-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 16px rgba(255, 94, 187, 0.6);
        }

        .days-message {
            text-align: center;
            margin-top: 8px;
            font-size: 12px;
            color: #7e22ce;
            font-style: italic;
        }

        /* Controles administrativos - ocultos por padrão */
        .admin-controls {
            position: absolute;
            top: 80px;
            right: 20px;
            display: none;
            gap: 10px;
            z-index: 20;
        }

        .admin-controls.show {
            display: flex;
            flex-direction: column;
        }

        .admin-btn {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
            color: white;
            margin-bottom: 5px;
        }

        .prev-btn {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
        }

        .prev-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 16px rgba(16, 185, 129, 0.6);
        }

        .next-btn {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
        }

        .next-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 16px rgba(59, 130, 246, 0.6);
        }

        .reset-btn {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            box-shadow: 0 4px 12px rgba(239, 68, 68, 0.4);
        }

        .reset-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 16px rgba(239, 68, 68, 0.6);
        }

        /* Modal de login */
        .login-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 200;
        }

        .login-modal.show {
            display: flex;
        }

        .login-form {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
            width: 300px;
        }

        .login-form h3 {
            text-align: center;
            margin-bottom: 20px;
            color: #333;
        }

        .login-form input {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            box-sizing: border-box;
        }

        .login-form button {
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            margin-bottom: 10px;
        }

        .login-form button:hover {
            opacity: 0.9;
        }

        .login-form .cancel-btn {
            background: linear-gradient(135deg, #6b7280 0%, #4b5563 100%);
        }

        /* Media query otimizada especificamente para iPhone 15 Plus (430x932) */
        @media (max-width: 430px) and (min-width: 414px) {
            .container {
                padding: 15px;
            }
            
            .envelope {
                width: 290px;
                height: 180px;
            }
            
            .letter-paper {
                width: 270px;
                height: 390px;
                padding: 32px 28px;
            }

            .letter-greeting {
                font-size: 17px;
            }

            .letter-body {
                font-size: 14px;
            }

            .signature {
                font-size: 22px;
            }

            /* Ajustado posicionamento da carta para melhor centralização no iPhone 15 Plus */
            .envelope.open .letter-paper {
                transform: translate(-50%, -50%) translateY(-50px) scale(1);
            }

            .progress-container {
                width: 85%;
                max-width: 320px;
                padding: 11px 14px;
                top: 15px;
            }
            
            .progress-info {
                font-size: 13px;
            }

            .admin-controls {
                top: 75px;
                right: 15px;
            }

            .admin-btn {
                width: 40px;
                height: 40px;
                font-size: 14px;
            }
        }

        /* Media query para iPhone 14 Pro e similares */
        @media (max-width: 413px) and (min-width: 390px) {
            .envelope {
                width: 275px;
                height: 170px;
            }
            
            .letter-paper {
                width: 255px;
                height: 370px;
                padding: 28px 24px;
            }

            .letter-greeting {
                font-size: 16px;
            }

            .letter-body {
                font-size: 13px;
            }

            .signature {
                font-size: 21px;
            }

            .envelope.open .letter-paper {
                transform: translate(-50%, -50%) translateY(-60px) scale(1);
            }

            .progress-container {
                width: 88%;
                padding: 10px 12px;
            }
        }

        /* Media query para telas menores */
        @media (max-width: 389px) {
            .envelope {
                width: 260px;
                height: 160px;
            }
            
            .letter-paper {
                width: 240px;
                height: 350px;
                padding: 25px 20px;
            }

            .letter-greeting {
                font-size: 16px;
            }

            .letter-body {
                font-size: 13px;
            }

            .signature {
                font-size: 20px;
            }

            .envelope.open .letter-paper {
                transform: translate(-50%, -50%) translateY(-80px) scale(1);
            }

            .progress-container {
                width: 90%;
                padding: 8px 10px;
            }
            
            .progress-info {
                font-size: 12px;
            }
        }

        /* Adicionado media query para telas muito grandes para garantir boa visualização */
        @media (min-width: 768px) {
            .envelope {
                width: 320px;
                height: 200px;
            }
            
            .letter-paper {
                width: 300px;
                height: 420px;
                padding: 40px 35px;
            }

            .envelope.open .letter-paper {
                transform: translate(-50%, -50%) translateY(-40px) scale(1);
            }

            .progress-container {
                width: 60%;
                max-width: 400px;
            }
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen bg-gradient-to-br from-pink-200 to-purple-300">

    <!-- Modal de Login -->
    <div class="login-modal" id="loginModal">
        <div class="login-form">
            <h3>Acesso Administrativo</h3>
            <input type="text" id="username" placeholder="Usuário" maxlength="20">
            <input type="password" id="password" placeholder="Senha" maxlength="20">
            <button onclick="attemptLogin()">Entrar</button>
            <button class="cancel-btn" onclick="closeLoginModal()">Cancelar</button>
        </div>
    </div>

    <!-- Barra de progresso -->
    <div class="progress-container">
        <div class="progress-info">
            <span>Minha Jornada</span>
            <span id="progress-text">0/150</span>
        </div>
        <div class="progress-bar">
            <div class="progress-fill" id="progress-fill"></div>
        </div>
        <div class="days-message" id="days-message">Sua jornada está começando!</div>
    </div>

    <!-- Botão principal (sempre visível) -->
    <button class="exit-btn" onclick="showLoginModal()" title="Acesso administrativo">
        <i class="fas fa-cog"></i>
    </button>

    <!-- Controles administrativos (ocultos por padrão) -->
    <div class="admin-controls" id="adminControls">
        <button class="admin-btn prev-btn" onclick="previousDay()" title="Dia anterior">
            <i class="fas fa-chevron-left"></i>
        </button>
        <button class="admin-btn next-btn" onclick="nextDay()" title="Próximo dia">
            <i class="fas fa-chevron-right"></i>
        </button>
        <button class="admin-btn reset-btn" onclick="resetProgress()" title="Resetar para dia 1">
            <i class="fas fa-redo"></i>
        </button>
    </div>

    <div class="container">
        <div class="envelope" id="envelope">
            <div class="envelope-body">
                <div class="stamp"></div>
                <div class="envelope-flap"></div>
                <div class="wax-seal"></div>
                
                <div class="letter-paper">
                    <div class="letter-content">
                        <div class="letter-header">
                            <div class="letter-date" id="letter-date">15 de Janeiro, 2025</div>
                            <div class="letter-greeting" id="letter-greeting">Querido Amigo,</div>
                        </div>
                        
                        <div class="letter-body" id="letter-body">
                            <!-- Conteúdo será inserido dinamicamente -->
                        </div>
                        
                        <div class="signature">
                            Com carinho,<br>
                            Thiago Senez
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Base de dados com mensagens para cada dia
        const dailyMessages = {
            1: {
                greeting: "Querido Amigo,",
                content: [
                    "Hoje começa uma jornada especial de 150 dias juntos! Estou muito animado para compartilhar pensamentos, reflexões e momentos especiais com você ao longo deste tempo.",
                    "Esta primeira carta marca o início de algo único - uma conexão diária que nos permitirá crescer e nos conhecer melhor. Cada dia será uma nova oportunidade de troca e aprendizado.",
                    "Que esta jornada seja repleta de descobertas, sorrisos e momentos marcantes. Estou aqui para caminhar ao seu lado nestes 150 dias que se iniciam hoje.",
                    "Bem-vindo(a) à nossa aventura diária! Que possamos fazer de cada carta um pequeno presente para alegrar nossos dias."
                ]
            },
            2: {
                greeting: "Meu caro amigo,",
                content: [
                    "Segundo dia da nossa jornada! Ontem plantamos a semente de uma bela amizade, e hoje já posso sentir ela começando a brotar.",
                    "Há algo mágico nos primeiros dias de uma nova amizade. Cada conversa revela um pouco mais sobre quem somos, nossas esperanças e sonhos.",
                    "Espero que você esteja se sentindo tão entusiasmado quanto eu com esta troca diária. São os pequenos gestos que constroem as maiores conexões.",
                    "Que este segundo dia traga ainda mais alegria e expectativa para os 148 dias que ainda temos pela frente!"
                ]
            },
            3: {
                greeting: "Querida pessoa especial,",
                content: [
                    "Terceiro dia e já sinto que nossa conexão está se fortalecendo! É incrível como a consistência pode criar laços tão significativos.",
                    "Hoje quero falar sobre a importância da gratidão. Sou grato por ter você em minha vida e por podermos compartilhar estes momentos juntos.",
                    "A vida nos ensina que as melhores amizades são aquelas que crescem dia após dia, com paciência e carinho mútuo.",
                    "Espero que esta carta encontre você com um sorriso no rosto e o coração aberto para mais um dia de nossa jornada juntos."
                ]
            },
            4: {
                greeting: "Meu estimado companheiro,",
                content: [
                    "Quarto dia de nossa aventura! Hoje pensei muito sobre como os pequenos hábitos podem transformar nossa vida de formas incríveis.",
                    "Escrever para você diariamente já se tornou um momento especial do meu dia. É como regar uma plantinha todos os dias e vê-la crescer.",
                    "Há algo poético na repetição consciente e cheia de propósito. Cada carta é um tijolinho na construção de nossa amizade.",
                    "Que possamos continuar cultivando esta bela tradição de nos conectarmos diariamente, independente de quão corridos sejam nossos dias."
                ]
            },
            5: {
                greeting: "Querido coração amigo,",
                content: [
                    "Cinco dias! Uma semana de trabalho completa se fosse em um emprego, mas aqui é só o começo de algo muito maior e mais significativo.",
                    "Hoje quero celebrar os pequenos marcos. Cinco pode parecer pouco, mas já são cinco sementes de carinho plantadas entre nós.",
                    "A constância é uma virtude rara nos dias de hoje. Que orgulho tenho de estarmos construindo algo sólido e duradouro juntos!",
                    "Cada dia que passa, sinto mais certeza de que esta foi uma das melhores decisões que tomei. Obrigado por fazer parte desta jornada."
                ]
            },
            6: {
                greeting: "Meu querido amigo,",
                content: [
                    "Sexto dia e já posso dizer que você se tornou uma parte importante da minha rotina diária. Que coisa mais linda!",
                    "Hoje refleti sobre como as amizades verdadeiras se formam: não é só nos grandes momentos, mas principalmente na constância dos pequenos gestos.",
                    "Há uma magia especial em saber que, todos os dias, temos este momento de conexão reservado só para nós.",
                    "Que este sexto dia seja repleto de alegrias e que você saiba o quanto sua presença em minha vida já faz diferença."
                ]
            },
            7: {
                greeting: "Pessoa especial,",
                content: [
                    "Uma semana inteira! Sete dias de cartas, sete dias de conexão, sete dias de uma amizade que cresce a cada palavra compartilhada.",
                    "Completamos nossa primeira semana juntos e isso merece ser celebrado! São 143 dias pela frente, mas que bela fundação já criamos.",
                    "O número sete sempre foi considerado especial em muitas culturas. Hoje ele marca algo especial também para nós.",
                    "Que esta primeira semana completa seja o prenúncio de muitas outras semanas maravilhosas que virão em nossa jornada."
                ]
            },
            8: {
                greeting: "Meu caro companheiro de jornada,",
                content: [
                    "Oitavo dia! Entramos na nossa segunda semana com o coração cheio de expectativas e gratidão pelo caminho percorrido até aqui.",
                    "Hoje pensei em como cada pessoa que entra em nossa vida deixa uma marca única. Você já deixou várias marcas positivas na minha.",
                    "A amizade é como um jardim: precisa ser cuidada diariamente, regada com carinho e atenção. Obrigado por cuidar do nosso jardim comigo.",
                    "Que este oitavo dia traga ainda mais motivos para celebrarmos esta linda conexão que estamos construindo juntos."
                ]
            },
            9: {
                greeting: "Querido amigo do coração,",
                content: [
                    "Nono dia de nossa jornada! Há algo mágico no número nove - representa quase a conclusão de um ciclo, mas ainda com espaço para crescer.",
                    "Hoje quero falar sobre a importância de termos alguém especial com quem compartilhar os pequenos momentos do dia a dia.",
                    "Nove dias podem não parecer muito tempo, mas já construímos uma tradição linda e significativa que levarei para sempre comigo.",
                    "Espero que você esteja sentindo a mesma alegria que eu sinto a cada carta que escrevo. Sua presença ilumina meus dias."
                ]
            },
            10: {
                greeting: "Meu estimado amigo,",
                content: [
                    "Chegamos ao décimo dia! Dois dígitos! É um marco especial que merece ser celebrado com muito carinho e gratidão.",
                    "Dez dias de cartas, dez dias de amizade crescendo, dez dias de momentos especiais compartilhados. Que jornada incrível estamos vivendo!",
                    "Há uma solidez nos números redondos que me enche de alegria. Dez dias representam o início de uma tradição que durará muito tempo.",
                    "Obrigado por tornar cada um destes dez dias especiais. Que os próximos 140 sejam ainda mais maravilhosos que estes primeiros."
                ]
            },
            11: {
                greeting: "Pessoa querida,",
                content: [
                    "Décimo primeiro dia! Saímos dos números redondos, mas a magia continua cresc